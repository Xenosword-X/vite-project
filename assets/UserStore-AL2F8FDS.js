import{k as u,r as s,j as r}from"./index-Wyu0iiLy.js";const v=u("userStore",()=>{const e=s(""),o=s(""),a=s(!1);return{token:e,nickname:o,isLogin:a,login:(t,n)=>r.post("https://todoo.5xcamp.us/users/sign_in",{user:{email:t,password:n}}).then(l=>(e.value=l.headers.authorization,o.value=l.data.nickname,a.value=!0,localStorage.setItem("token",e.value),localStorage.setItem("nickname",o.value),r.defaults.headers.common.Authorization=e.value,!0)).catch(()=>!1),logout:()=>{e.value="",o.value="",a.value=!1,localStorage.removeItem("token"),localStorage.removeItem("nickname"),delete r.defaults.headers.common.Authorization},checkLogin:()=>{const t=localStorage.getItem("token"),n=localStorage.getItem("nickname");t&&n&&(e.value=t,o.value=n,a.value=!0,r.defaults.headers.common.Authorization=t)}}});export{v as u};

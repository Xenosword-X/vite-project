import{r as n,c as f,a as l,w as i,v as d,b,d as w,e as x,f as g,F as k,u as y,o as V,g as R,h as q}from"./index-XJgXSxH0.js";import{s as u}from"./Toast-COJvCt5M.js";const U={class:"col-12 mb-3"},B={class:"col-12 mb-3"},E={class:"col-12 mb-3"},N={class:"col-12 mb-4"},T={class:"text-center"},_={__name:"Register",setup(C){const t=n(""),a=n(""),o=n(""),r=n(""),p=y(),v=()=>{(!t.value||!a.value||!o.value||!r.value)&&u("error","註冊失敗，所有欄位必須填寫"),o.value!==r.value&&u("error","註冊失敗，密碼與確認密碼不一致"),q.post("https://todoo.5xcamp.us/users",{user:{email:t.value,nickname:a.value,password:o.value}}).then(m=>{u("sucess","註冊成功，請登入帳號密碼"),p.push("/login")}).catch(m=>{u("error","註冊失敗，請稍後再試"),console.log(m)})};return(m,e)=>{const c=x("router-link");return V(),f(k,null,[e[10]||(e[10]=l("h3",{class:"text-secondary fw-bold mb-3 text-center text-md-start"},"註冊帳號",-1)),l("form",{onSubmit:g(v,["prevent"])},[l("div",U,[e[4]||(e[4]=l("label",{for:"mail02",class:"form-label"},"Email",-1)),i(l("input",{type:"email",id:"mail02",class:"form-control mail02",placeholder:"請輸入Email",required:"","onUpdate:modelValue":e[0]||(e[0]=s=>t.value=s)},null,512),[[d,t.value]])]),l("div",B,[e[5]||(e[5]=l("label",{for:"nickname",class:"form-label"},"您的暱稱",-1)),i(l("input",{type:"text",id:"nickname",class:"form-control nickname",placeholder:"請輸入您的暱稱",required:"","onUpdate:modelValue":e[1]||(e[1]=s=>a.value=s)},null,512),[[d,a.value]])]),l("div",E,[e[6]||(e[6]=l("label",{for:"pwd02",class:"form-label"},"密碼",-1)),i(l("input",{type:"password",id:"pwd02",class:"form-control pwd02",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":e[2]||(e[2]=s=>o.value=s)},null,512),[[d,o.value]])]),l("div",N,[e[7]||(e[7]=l("label",{for:"R-pwd",class:"form-label"},"再次輸入密碼",-1)),i(l("input",{type:"password",id:"R-pwd",class:"form-control R-pwd",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":e[3]||(e[3]=s=>r.value=s)},null,512),[[d,r.value]])]),e[9]||(e[9]=l("div",{class:"text-center"},[l("button",{type:"submit",class:"btn btn-secondary h5",style:{width:"128px"},id:"register02"},"註冊帳號")],-1)),l("div",T,[b(c,{to:"/login",class:"btn",id:"login02"},{default:w(()=>e[8]||(e[8]=[R("登入")])),_:1,__:[8]})])],32)],64)}}};export{_ as default};

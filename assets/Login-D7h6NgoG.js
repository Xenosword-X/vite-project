import{r as a,c as f,a as t,w as n,v as i,b as v,d as b,e as w,f as x,F as g,u as y,o as _,g as V}from"./index-d4-rZQFT.js";import{u as k}from"./UserStore-DkA0qPc0.js";import{s as d}from"./Toast-BGAkXIA8.js";const E={class:"col-12 mb-3"},B={class:"col-12 mb-4"},N={class:"text-center"},q={__name:"Login",setup(S){const o=a(""),s=a(""),u=k(),m=y(),p=async()=>{if(!o.value.trim()||!s.value.trim()){d("error","Email 和密碼不得為空");return}try{const r=await u.login(o.value,s.value);m.push("/todo")}catch(r){d("error","請確認帳號密碼是否正確"),console.error(r)}};return(r,e)=>{const c=w("router-link");return _(),f(g,null,[e[6]||(e[6]=t("h3",{class:"text-secondary fw-bold mb-3 text-center text-md-start"},"最實用的線上代辦事項服務",-1)),t("form",{onSubmit:x(p,["prevent"])},[t("div",E,[e[2]||(e[2]=t("label",{for:"mail01",class:"form-label"},"Email",-1)),n(t("input",{type:"email",id:"mail01",class:"form-control mail01",placeholder:"請輸入Email",required:"","onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l)},null,512),[[i,o.value]])]),t("div",B,[e[3]||(e[3]=t("label",{for:"pwd01",class:"form-label"},"密碼",-1)),n(t("input",{type:"password",id:"pwd01",class:"form-control pwd01",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":e[1]||(e[1]=l=>s.value=l)},null,512),[[i,s.value]])]),e[5]||(e[5]=t("div",{class:"text-center"},[t("button",{type:"submit",class:"btn btn-secondary h5",id:"login01",style:{width:"128px"}},"登入")],-1)),t("div",N,[v(c,{to:"/register",class:"btn",id:"register01"},{default:b(()=>e[4]||(e[4]=[V("註冊帳號")])),_:1,__:[4]})])],32)],64)}}};export{q as default};
